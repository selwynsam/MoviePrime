(this["webpackJsonpmovie-prime"]=this["webpackJsonpmovie-prime"]||[]).push([[0],{124:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(27),s=n.n(c),i=(n(99),n(34)),o=n(7),u=n(6),l=n(9),j=n.n(l),b=n(10),d=n(13),f=n(183),p=n(80),h=n.n(p),O=n(57),v=n.n(O),m=n(186),x=n(76),g=n.n(x).a.create({baseURL:"https://api.themoviedb.org/3"});g.interceptors.request.use((function(e){return e.params=e.params||{},e.headers.Authorization="Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4MDM2YWJhZDE4NTFiNzAxOWEwYzkxN2I5MDRhYmU1NCIsInN1YiI6IjYxOGViYzNhMjBlNmE1MDAyYzUwOWNiZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.qFPhdpTfcOBE9cFXaXB5DnVLnQ8-EEOKj_Ph1g7wcYA"),e}));var y=g;function N(e){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/search/movie",{params:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var k=n(11),S=n(46);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"original",n="https://image.tmdb.org/t/p/";return"".concat(n,"/").concat(t,"/").concat(e)}function I(e){return e.map((function(e){return e.name})).join(", ")}function C(e,t){var n,r={},a=Object(S.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;r[c[t]]=Object(k.a)({},c)}}catch(s){a.e(s)}finally{a.f()}return r}function E(e,t){return e.map((function(e){var n;return null===t||void 0===t||null===(n=t[e])||void 0===n?void 0:n.name})).join(", ")}var M=n(2),P=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(u.a)(s,2),l=o[0],p=o[1],O=Object(r.useState)(!1),x=Object(u.a)(O,2),g=x[0],y=x[1],w=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),n=t.target.value){e.next=6;break}return p([]),c(!1),e.abrupt("return");case 6:return r={query:n},e.next=10,N(r);case 10:a=e.sent,s=a.slice(0,4),p(Object(b.a)(s)),c(!0),y(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=Object(r.useCallback)(v()(w,300),[]);return Object(M.jsxs)("div",{className:"search-bar",children:[Object(M.jsx)(f.a,{className:"search-input",placeholder:"Search for Movies......",endAdornment:Object(M.jsx)("div",{className:"d-flex",children:a&&g?Object(M.jsx)(m.a,{size:20,color:"inherit"}):Object(M.jsx)(h.a,{})}),onFocus:function(e){e.target.value&&c(!0)},onBlur:function(e){c(!1)},onChange:k}),Object(M.jsx)("div",{className:"results ".concat(a?"active":""),children:l.map((function(e){return Object(M.jsx)("ul",{children:Object(M.jsx)("li",{children:Object(M.jsxs)(i.b,{to:"/movie/".concat(e.id),className:"search-option",children:[Object(M.jsx)("img",{src:_(e.poster_path,"w500"),alt:e.title}),Object(M.jsx)("span",{children:e.title})]})})},"suggestion_".concat(e.id))}))})]})},Y=function(e){var t=Object(o.f)(),n=Object(r.useRef)(null),a=Object(r.useState)(!1),c=Object(u.a)(a,2),s=c[0],i=c[1];Object(r.useEffect)((function(){l()}),[]);var l=function(){if(n.current){new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting||e.isVisible||i(!0),e.isIntersecting&&i(!1)}))}),{root:null,threshold:0,rootMargin:"0px"}).observe(n.current)}},j=function(){return Object(M.jsx)("div",{className:"header-logo",onClick:function(){return t("/")},children:"MoviePrime"})};return Object(M.jsxs)("header",{className:"header-container",children:[Object(M.jsx)("div",{className:"container header",ref:n,children:j()}),Object(M.jsx)("div",{id:"sticky-header",className:s?"sticky":"",children:Object(M.jsxs)("div",{className:"container header",children:[j(),Object(M.jsx)("div",{className:"header-search-bar",children:Object(M.jsx)(P,{})}),Object(M.jsx)("div",{className:"spacer"})]})})]})},D=n(184),F=n(84);function J(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/genre/movie/list");case 3:return t=e.sent,n=t.data,e.abrupt("return",n.genres);case 8:e.prev=8,e.t0=e.catch(0),console.log("error==",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return z.apply(this,arguments)}function z(){return(z=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/movie/now_playing");case 3:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function B(){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(j.a.mark((function e(){var t,n,r,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.prev=1,e.next=4,y.get("/discover/movie",{params:t});case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}n(124);var W=n(81),A=n.n(W),H={accessibility:!1,autoplay:!0,autoplaySpeed:5e3,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,draggable:!1,fade:!0,centerMode:!0,centerPadding:"0px",arrows:!1},V=function(e){var t=e.list;return Object(M.jsx)(A.a,Object(k.a)(Object(k.a)({},H),{},{children:t.map((function(e){return Object(M.jsx)("img",{src:_(e.backdrop_path),alt:e.original_title},"upcoming_".concat(e.id))}))}))},U=n(82),Z=n.n(U),q=function(e){var t=e.movieId,n=e.title,r=e.genres,a=e.imagePath,c=e.rating;return Object(M.jsxs)("div",{className:"movie-card",children:[Object(M.jsxs)("div",{className:"rating",children:[Object(M.jsx)(Z.a,{className:"icon"})," ",c]}),Object(M.jsxs)(i.b,{to:"/movie/".concat(t),className:"link",children:[Object(M.jsx)("img",{src:_(a,"w500"),alt:n}),Object(M.jsxs)("div",{className:"info",children:[Object(M.jsx)("h4",{children:n}),Object(M.jsx)("div",{children:r})]})]})]})},G=n(49),K=n(50),Q=n(88),X=n(85),$=function(e){Object(Q.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(G.a)(this,n),(r=t.call(this,e)).triggerScrollHandler=function(){r.props.scrollHandler()},r.rootElement=a.a.createRef(),r.lastRef=a.a.createRef(),r}return Object(K.a)(n,[{key:"componentDidMount",value:function(){this.initalizeScrollObserver()}},{key:"initalizeScrollObserver",value:function(){var e=this,t=this.props,n=t.scrollHandler,r=t.isLoading;if(this.lastRef.current&&n){new IntersectionObserver((function(t,n){t.forEach((function(t){!r&&t.isIntersecting&&e.triggerScrollHandler()}))}),{root:null,threshold:1,rootMargin:"0px"}).observe(this.lastRef.current)}}},{key:"render",value:function(){return Object(M.jsxs)("div",{ref:this.rootElement,className:"infinite-holder",children:[this.props.children,Object(M.jsx)("div",{ref:this.lastRef})]})}}]),n}(r.Component),ee=Object(r.createContext)(),te=function(e){var t=e.children,n=Object(r.useState)({}),a=Object(u.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)(Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:t=e.sent,n=C(t,"id"),s(Object(k.a)({},n));case 5:case"end":return e.stop()}}),e)}))),[]),Object(M.jsx)(ee.Provider,{value:{genres:c},children:t})},ne={control:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{background:"#020d18",borderColor:"#ffffff78",borderRadius:"20px"})},indicatorSeparator:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{display:"none"})},input:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"#fff"})},menu:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{background:"#ffffffc9"})},singleValue:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{color:"#fff"})},option:function(e,t){return Object(k.a)(Object(k.a)({},e),{},{color:t.isFocused?"#fff":"#000",background:t.isFocused?"#020d18":"#ffffffc9",fontWeight:600,border:"1px solid #020d1845"})}},re=[{label:"Sort by Rating",value:"vote_average.desc"},{label:"Sort by Date",value:"release_date.desc"},{label:"Sort by Title",value:"original_title.desc"}],ae={page:1,sort_by:"popularity.desc",include_adult:!1,include_video:!0},ce=function(e){var t=Object(r.useContext)(ee).genres,n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)([]),o=Object(u.a)(i,2),l=o[0],f=o[1],p=Object(r.useState)(Object(k.a)({},ae)),h=Object(u.a)(p,2),O=h[0],v=h[1],m=Object(r.useState)(500),x=Object(u.a)(m,2),g=x[0],y=x[1],N=Object(r.useState)(!1),w=Object(u.a)(N,2),S=w[0],_=w[1];Object(r.useEffect)((function(){C()}),[]);var I=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.next=3,Y(O);case 3:t=e.sent,f(Object(b.a)(t));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return _(!0),e.next=5,B(t);case 5:return n=e.sent,v(Object(k.a)(Object(k.a)({},O),{},{page:n.page})),y(n.total_pages),_(!1),e.abrupt("return",n.results);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=O.page+1)<=g)){e.next=7;break}return n=Object(k.a)(Object(k.a)({},O),{},{page:t}),e.next=5,Y(n);case 5:(r=e.sent)&&f([].concat(Object(b.a)(l),Object(b.a)(r)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.a)(Object(k.a)({},O),{},{sort_by:t.value,page:ae.page}),e.next=3,Y(n);case 3:r=e.sent,f(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("main",{children:[Object(M.jsxs)("div",{className:"slider-container",children:[Object(M.jsx)(V,{list:c}),Object(M.jsx)("div",{className:"search-container",children:Object(M.jsx)(P,{})}),Object(M.jsx)("div",{className:"overlay"})]}),Object(M.jsx)("section",{className:"movie-list",children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("div",{className:"sortby-container",children:Object(M.jsx)(F.a,{placeholder:"Sort by",styles:ne,options:re,onChange:R})}),Object(M.jsx)($,{scrollHandler:J,isLoading:S,movieListParams:O,children:Object(M.jsx)(D.a,{container:!0,children:l.map((function(e){return Object(M.jsx)(D.a,{item:!0,xs:6,md:3,children:Object(M.jsx)(q,{movieId:e.id,title:e.title,genres:E(e.genre_ids,t),imagePath:e.poster_path,rating:e.vote_average})},"movie_".concat(e.id))}))})})]})})]})},se=n(87),ie=n(83),oe=n.n(ie),ue=n(62),le=n.n(ue),je=n(182),be=function(e){var t=e.srcKey,n=e.handleClose;return Object(M.jsx)(je.a,{open:!0,onClose:n,children:Object(M.jsx)("div",{className:"iframe-container",children:Object(M.jsx)("iframe",{width:"100%",height:"345",src:"https://www.youtube.com/embed/".concat(t,"?rel=0&autoplay=1"),frameborder:"0",allowFullScreen:!0})})})};function de(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(d.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/movie/".concat(t),{params:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(d.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/movie/".concat(t,"/similar"));case 3:return n=e.sent,r=n.data,e.abrupt("return",r.results);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Oe={append_to_response:"videos,credits"},ve=function(e){var t=Object(o.g)().movieId,n=Object(o.f)(),a=Object(r.useContext)(ee).genres,c=Object(r.useState)({}),s=Object(u.a)(c,2),i=s[0],l=s[1],f=Object(r.useState)(null),p=Object(u.a)(f,2),h=p[0],O=p[1],v=Object(r.useState)(!1),m=Object(u.a)(v,2),x=m[0],g=m[1],y=Object(r.useState)([]),N=Object(u.a)(y,2),w=N[0],k=N[1];Object(r.useEffect)((function(){t?(S(),C(),window.scrollTo({top:0,left:0,behavior:"smooth"})):n("/")}),[t]);var S=function(){var e=Object(d.a)(j.a.mark((function e(){var n,r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,Oe);case 2:n=e.sent,r=n.videos,a=Object(se.a)(n,["videos"]),l({originalTitle:a.original_title,releaseDate:a.release_date,runtime:a.runtime,overview:a.overview,genres:I(a.genres),cast:(s=a.credits.cast,s.slice(0,3).map((function(e){return e.name})).join(", ")),backdropPath:a.backdrop_path}),(c=r.results.find((function(e){return e.key&&"YouTube"==e.site})))&&O(c.key);case 8:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(t);case 2:n=e.sent,k(Object(b.a)(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("main",{children:[Object(M.jsxs)("div",{className:"movie-banner",children:[Object(M.jsx)("div",{className:"image-container",children:Object(M.jsx)("img",{src:_(i.backdropPath),alt:"Dune"})}),Object(M.jsx)("div",{className:"overlay",children:Object(M.jsx)(oe.a,{className:"play-icon",onClick:function(){return g(!0)}})})]}),Object(M.jsx)("section",{className:"movie-info",children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("h1",{children:i.originalTitle}),Object(M.jsxs)("div",{className:"meta-info",children:[Object(M.jsx)("span",{className:"info-item",children:le()(i.releaseDate).format("YYYY")}),Object(M.jsx)("span",{className:"info-spacer",children:"|"}),Object(M.jsx)("span",{className:"info-item",children:le()(i.runtime).format("h[h] m[m]")}),Object(M.jsx)("span",{className:"info-spacer",children:"|"}),Object(M.jsx)("span",{className:"info-item",children:i.genres})]}),Object(M.jsx)("div",{className:"movie-synopsis",children:i.overview}),Object(M.jsxs)("div",{className:"movie-cast-info",children:[Object(M.jsx)("span",{className:"label",children:"Starring:"}),Object(M.jsx)("span",{className:"star-cast",children:i.cast})]})]})}),Object(M.jsx)("section",{className:"similar-movies",children:Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("h3",{className:"label",children:"More like this"}),Object(M.jsx)(D.a,{container:!0,children:w.map((function(e){return Object(M.jsx)(D.a,{item:!0,xs:6,md:3,children:Object(M.jsx)(q,{movieId:e.id,title:e.title,genres:E(e.genre_ids,a),imagePath:e.poster_path,rating:e.vote_average})},"movie_".concat(e.id))}))})]})}),x&&h&&Object(M.jsx)(be,{srcKey:h,handleClose:function(){return g(!1)}})]})};n(153);var me=function(){return Object(M.jsx)(te,{children:Object(M.jsxs)(i.a,{children:[Object(M.jsx)(Y,{}),Object(M.jsxs)(o.c,{children:[Object(M.jsx)(o.a,{path:"/",element:Object(M.jsx)(ce,{})}),Object(M.jsx)(o.a,{path:"/movie/:movieId",element:Object(M.jsx)(ve,{})})]})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(me,{})}),document.getElementById("root")),xe()},99:function(e,t,n){}},[[154,1,2]]]);
//# sourceMappingURL=main.efcec39e.chunk.js.map